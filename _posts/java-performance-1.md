---
layout: post
comments: true
title: Java 성능에 대하여
tags: [java]
---

### Performance 
성능 (`Performance`)란 무엇이라고 정의 할 수 있을까요?  
일반적인 답변으로는 아래와 같은 지표에 대해서 이야기 할 수 있을것 입니다.

- 빠른 속도
- 많은 처리량 (TPS)

매우 중요한 지표들임에 틀림없지만 우리가 봐야 할 것들은 더 많이 있습니다.

- 리소스 사용률
- 다중 서비스간의 월활한 커넥션 여부
- 운영 비용

자바는 발전해오며 성능이 개선되어 왔고, `성능 향상`을 위한 많은 툴들을 제공해 왔습니다.  
결국 우리가 자바 개발을 하면서 `좋은 성능`을 내기위 결국 툴 사용법을 잘 익혀야 합니다. 여기서 말하는 `툴`이란 자바언어, JVM, 메모리, 컴파일러, GC, 하드웨어의 지식 까지 의미하며 이모든것들에대한 이해로부터 자바 성능개선을 이끌어 낼 수 있을것 입니다. 


---

### 성능과 최적화

- 성능 최적화를 위해서는 팁을 찾아 적용하는것이 능사가 아니라 해당 성능을 만들어내는 여러 단면들을 종합적으로 이해 할 수 있어야합니다.
- 자바는 실용적으로 사용하기위해 고안된 언어라 개발자의 생산성을 높이는 대신 세세한 제어는 어려울수 있고 성능측정 역시 쉽지 않습니다.
- 성능분석이란 분석하는 그 과정을 의미하는것이 아닌, 원하는 결과를 정의하고 반복된 테스트를 통해 지표를 달성해가는 과정입니다.
- 일반적으로 성능분석에 목표로 정의할 수 있는 지표들은 다음과 같습니다.
  - 처리율
  - 지연시간
  - 용량
  - 사용률
  - 효율
  - 확장성
  - 저하
- 위같은 지표들간에는 상호연관관계가 존재할수밖에 없습니다.

---

### JVM

- 자바 성능 향상을 위해서는 가장먼저 `JVM`을 이해해야 합니다.
- JVM 클래스 로딩 매커니즘을 통해 클래스파일을 JVM에 로드합니다.
- JVM 인터프리터는 스택기반으로 코드를 해석합니다.
- java 코드의 실행의 첫 단계는 컴파일러를 통한 바이트 코드 변환이며, 클래스 파일은 정해진 규칙으로 작성되어 집니다
- 가장 일반적은 JVM인 핫스팟 JVM은 개발자 생산성에 맞추어 설계되었으며 `JIT 컴파일러`를 통해 자주사용되는 코드들에대해 최적화를 진행합니다.
- JVM은 `GC`를 통해 힙메모리를 자동으로 관리합니다.
- JVM은 멀티쓰레드 기반 모델이며 쓰레드간 메모리 영역을 공유합니다.
- 오라클 핫스팟 외에도 다양한 자바 구현체가 존재합니다. (OpenJDK, ORACLE, Zulu...)
- JVM 모니터링 및 확장을 위한 다양한 툴들이 존재합니다. (JMX, java agent, JVMTI, SA ...)
---

---

### Reference

- Optimizing JAVA (https://search.shopping.naver.com/search/all?where=all&frm=NVSCTAB&query=%EC%9E%90%EB%B0%94%EC%B5%9C%EC%A0%81%ED%99%94)



